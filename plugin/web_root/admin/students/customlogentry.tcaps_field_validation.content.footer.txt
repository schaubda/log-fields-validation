<!-- Begin TCAPS Log Fields Validation Plugin -->
<script type="text/javascript">
    const REQUIRED_FIELD_MSG = 'This field is required';

    (function ()
    {
        const BASIC_FIELD_FUNC = 'validateBasicField';

        let inputFields = $j('#content-main form div.box-round table:first :input');
        let fieldCount = 10;
        let fieldFuncs =
                [
                    BASIC_FIELD_FUNC,
                    BASIC_FIELD_FUNC,
                    'validateReporterNameField',
                    'validateReporterIDField',
                    '',
                    '',
                    'validateStudentNameField',
                    BASIC_FIELD_FUNC,
                    '',
                    '',
                    ''
                ];

        for (let i = 0; i < fieldCount; i++)
        {
            $j(inputFields[i]).addClass('psSpecialValidate');

            if (fieldFuncs[i] !== '')
            {
                $j(inputFields[i]).attr('data-specialfunction', fieldFuncs[i]);
            }
        }
    })();

    function checkBlankField(input)
    {
        return input.val().length === 0;
    }

    function validateBasicField(input)
    {
        if (checkBlankField(input))
        {
            return REQUIRED_FIELD_MSG;
        }
    }

    function validateReporterNameField(input)
    {
        if (checkBlankField(input))
        {
            return REQUIRED_FIELD_MSG;
        }

        let matchPattern = /\w+, \w+/;

        if (!matchPattern.test(input.val().trim()))
        {
            return 'This must be the reporter\'s name in the format "Last, First"';
        }
    }

    function validateReporterIDField(input)
    {
        if (checkBlankField(input))
        {
            return REQUIRED_FIELD_MSG;
        }

        let matchPattern = /^\d{5,7}$/;

        if (!matchPattern.test(input.val().trim()))
        {
            return 'This must be a valid employee number';
        }
    }

    function validateStudentNameField(input)
    {
        if (checkBlankField(input))
        {
            return REQUIRED_FIELD_MSG;
        }

        let matchPattern = /\w+, \w+ \w+/;

        if (!matchPattern.test(input.val().trim()))
        {
            return 'This must be the student\'s name in the format "Last, First Middle"';
        }
    }
</script>
<!-- End TCAPS Log Fields Validation Plugin -->